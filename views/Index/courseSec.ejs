<div class="landing-courses-sec container mt-5">

    <div class="card-heading-section text-left"></div>
      <h1 class="heading-title border-bottom pb-2">Explore Our Courses</h1>
    </div>

    <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
      <!-- Carousel Items -->
        <div class="carousel-inner">

            <% const itemsPerSlide = 3; %>
            <% const totalSlides = Math.ceil(allCourses.length / itemsPerSlide); %>
            
            <% for (let slideIndex = 0; slideIndex < totalSlides; slideIndex++) { %>
                <div class="carousel-item <%= slideIndex === 0 ? 'active' : '' %>">
                    <div class="d-flex justify-content-center">
                        <% for (let cardIndex = 0; cardIndex < itemsPerSlide; cardIndex++) { %>
                            <% const currentIndex = slideIndex * itemsPerSlide + cardIndex; %>
                            <% if (currentIndex < allCourses.length) { %>
                                <div class="card-wrapper">
                                    <div class="landing-course-card card h-100 shadow">
                                        <img src="<%= allCourses[currentIndex].courseImg %>" class="card-img-top" alt="<%= allCourses[currentIndex].title %>">
                                        <div class="card-body">
                                            <h2 class="card-title text-primary fs-4"><%= allCourses[currentIndex].title %></h2>
                                            <p class="card-text"><%= allCourses[currentIndex].tagline %></p>
                                            <div class="text-right">
                                                <button type="button" class="btn btn-primary" onclick="window.location.href='/explore/<%= allCourses[currentIndex]._id %>/course'">Explore</button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            <% } %>
                        <% } %>
                    </div>
                </div>
            <% } %>

        </div>
        <div class="carousel-controls">
            <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
        </div>
    </div>

    <!-- Carousel Controls Outside -->
    

    <div class="view-more-btn text-center">
      <a href="/explore/allCourses" class="viewMore-btn btn btn-primary rounded-pill">View More</a>
    </div>

</div>